name: Environments
on:
  workflow_dispatch:
    inputs:
      environment-name:
        type: environment             # 入力パラメータでEnvironmentsを切り替え
        default: test
        required: false
        description: Environment name
jobs:
  prepare:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ENVIRONMENT_NAME=dev" >> $GITHUB_ENV
  print:
    runs-on: ubuntu-latest
    environment: "${ENVIRONMENT_NAME}" # 利用するEnvironmentsを指定
    env:
      USERNAME: ${{ vars.USERNAME }}            # Environment variablesの参照
      PASSWORD: ${{ secrets.PASSWORD }}         # Environment secretsの参照
    steps:
      - run: echo "${USERNAME}"
      - run: echo "${PASSWORD:0:1} ${PASSWORD#?}"
